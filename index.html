<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sindicato del Gas — Slider aislado + Footer sencillo</title>
  <meta name="description" content="Slider responsive (desktop & móvil) con header preservado y footer simple." />
  <meta name="theme-color" content="#085e75" />

  <style>
    /* ==========================
       NB: Todo el CSS del slider y footer está
       encapsulado bajo la clase raíz `.nb-slider-root`
       para NO tocar estilos existentes del header.
       ========================== */

    :root{
      --nb-brand: #085e75;
      --nb-brand-dark: #074b5d;
      --nb-accent: #0f9d58; /* verde resaltado */
      --nb-bg: #0f1720;     /* letterbox detrás de las imágenes */
      --nb-dot: rgba(255,255,255,0.55);
      --nb-shadow: 0 12px 28px rgba(0,0,0,.18);
    }

    /* Basic resets (scoped only via body, safe) */
    html,body{height:100%; margin:0; font-family: system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif; color:#111;}

    /* ===== Contenedor raíz (evita afectar globalmente) ===== */
    .nb-slider-root { width:100%; }

    /* = Header: inserta aquí tu header real (NO alteramos sus estilos) =
       Por seguridad no incluimos reglas para .brand img ni .site-header.
       Si tu header está cargado con load-header.js, mantenelo. */

    /* ============ Slider principal (aislado) ============ */
    .nb-slider {
      width:100%;
      /* la altura del hero se calculará respecto a 100vh */
      background: var(--nb-bg);
    }

    /* Hero ocupa 100vh menos el header visible (no intentamos forzar header) */
    /* Para mayor compatibilidad, usaremos calc con una variable CSS que podes ajustar si tu header tiene otra altura. */
    :root { --nb-header-h: 66px; --nb-header-h-sm: 60px; }
    .nb-hero {
      width:100%;
      height: calc(100vh - var(--nb-header-h));
      min-height:260px;
      position:relative;
      overflow:hidden;
      background: var(--nb-bg);
      display:block;
    }
    /* @media (max-width:900px){
      .nb-hero { height: calc(100vh - var(--nb-header-h-sm)); }
    } */

    /* Slides generales */
    .nb-slides { position:relative; width:100%; height:100%; }
    .nb-slide {
      position:absolute; inset:0;
      display:grid; place-items:center;
      opacity:0; pointer-events:none;
      transition: opacity .45s ease;
    }
    .nb-slide.is-active{ opacity:1; pointer-events:auto; z-index:1; }

    .nb-slide > a { display:flex; align-items:center; justify-content:center; width:100%; height:100%; }

    /* ===== MOSTRAR IMAGEN COMPLETA (no recortar) =====
       Ajustes para que haya "aire" y no se corte la parte inferior:
       - max-height sustraerá un espacio (72px por defecto)
       - en móviles se aumenta ese hueco un poco más
    */
    .nb-slide img {
      width: auto;
      height: auto;
      max-width: calc(100% - 16px);
      max-height: calc(100% - 72px); /* <-- espacio inferior adicional para evitar corte */
      object-fit: contain;
      object-position: center;
      border-radius: 6px;
      box-shadow: var(--nb-shadow);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
      display:block;
    }
    @media (max-width:480px){
      .nb-slide img { max-width: calc(100% - 14px); max-height: calc(100% - 92px); } /* más aire en móviles */
    }

    /* Controles (prev/next). Ocultos en pantallas pequeñas */
    .nb-control {
      position:absolute; top:50%; transform:translateY(-50%);
      width:44px; height:44px; border-radius:999px; display:grid; place-items:center;
      background:rgba(255,255,255,0.95); border:1px solid rgba(0,0,0,.06);
      cursor:pointer; box-shadow:var(--nb-shadow); font-size:22px; z-index:30;
    }
    .nb-control.prev { left:12px; }
    .nb-control.next { right:12px; }
    @media (max-width:520px){ .nb-control { display:none; } }

    /* Dots */
    .nb-dots {
      position:absolute; left:50%; bottom:14px; transform:translateX(-50%);
      display:flex; gap:8px; padding:6px 10px; border-radius:999px;
      background: rgba(0,0,0,0.18); z-index:32; backdrop-filter: blur(6px);
    }
    .nb-dot { width:10px; height:10px; border-radius:50%; background:var(--nb-dot); border:0; cursor:pointer; }
    .nb-dot.is-active{ width:22px; border-radius:999px; background:#fff; transition:width .22s ease; }

    /* ============ Desktop vs Mobile sets (3 images each) ============ */
    /* Desktop visible >=900px */
    .nb-slides-desktop { display:block; }
    .nb-slides-mobile { display:none; }

    @media (max-width:900px){
      .nb-slides-desktop { display:none !important; }
      .nb-slides-mobile { display:block !important; }
    }

    /* Nota en verde para indicar sección móvil (según pediste) */
    .nb-device-note { text-align:center; color:var(--nb-accent); font-weight:700; margin:8px 0 6px 0; }

    /* ============ Footer sencillo y prolijo ============ */
    .nb-footer {
      background: #082d36; /* oscuro acorde al brand */
      color: #eaf7fb;
      padding:18px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .nb-footer .nb-contact { display:flex; gap:18px; align-items:center; flex-wrap:wrap; }
    .nb-footer a { color: #eaf7fb; text-decoration:none; display:flex; gap:8px; align-items:center; font-weight:600; }
    .nb-footer svg { width:18px; height:18px; display:block; }

    .nb-footer .nb-brand { display:flex; gap:12px; align-items:center; font-weight:800; }
    .nb-footer .nb-brand svg { width:28px; height:28px; }

    @media (max-width:600px){
      .nb-footer { padding:14px 10px; font-size:0.95rem; justify-content:center; text-align:center; }
      .nb-footer .nb-contact { width:100%; justify-content:center; }
    }

    /* accessibility focus for anchor */
    .nb-slide a:focus, .nb-footer a:focus { outline: 3px solid rgba(15,93,117,0.95); outline-offset: 3px; border-radius:6px; }
  </style>
</head>
<body>
  <!-- ======= TU HEADER (NO MODIFICAR) =======
       Pega aquí el header tal como lo tengas en tu proyecto.
       Ejemplo mínimo (puedes dejar el load-header.js si lo usas):
  -->
  <div id="header-placeholder"></div>
  <script src="../scripts/load-header.js"></script>

  <!-- ============ AQUI EMPIEZA nuestro slider aislado ============ -->
  <div class="nb-slider-root">
    <section class="nb-slider" aria-label="Slider principal">
      <div class="nb-hero">
        <!-- ===== Desktop: 3 imágenes (reemplazá las rutas) ===== -->
        <div class="nb-slides nb-slides-desktop" data-nb-slides="desktop">
          <figure class="nb-slide is-active">
            <a href="./pages/historia.html" aria-label="Ir a Institucional — Historia">
              <img src="./fotos/Banner1.jpeg" alt="Banner 1 desktop" loading="lazy" />
            </a>
          </figure>
          <figure class="nb-slide" aria-hidden="true">
            <a href="./pages/industria.html" aria-label="Ir a Industria">
              <img src="./fotos/Banner2.jpeg" alt="Banner 2 desktop" loading="lazy" />
            </a>
          </figure>
          <figure class="nb-slide" aria-hidden="true">
            <a href="./pages/novedades.html" aria-label="Ir a Novedades">
              <img src="./fotos/Banner3.jpeg" alt="Banner 3 desktop" loading="lazy" />
            </a>
          </figure>

          <button class="nb-control prev" aria-label="Anterior" data-nb-prev="desktop">‹</button>
          <button class="nb-control next" aria-label="Siguiente" data-nb-next="desktop">›</button>
          <div class="nb-dots" data-nb-dots="desktop" role="tablist" aria-label="Paginación desktop"></div>
        </div>

        <!-- Nota verde indicando la sección móvil -->
        <div class="nb-device-note" aria-hidden="true">IMÁGENES PARA CELULAR</div>

        <!-- ===== Mobile: 3 imágenes (reemplazá las rutas) ===== -->
        <div class="nb-slides nb-slides-mobile" data-nb-slides="mobile">
          <figure class="nb-slide is-active">
            <a href="./pages/historia.html" aria-label="Ir a Institucional — Historia (móvil)">
              <img src="./fotos/Banner1.jpeg" alt="Banner 1 móvil" loading="lazy" />
            </a>
          </figure>
          <figure class="nb-slide" aria-hidden="true">
            <a href="./pages/industria.html" aria-label="Ir a Industria (móvil)">
              <img src="./fotos/Banner2.jpeg" alt="Banner 2 móvil" loading="lazy" />
            </a>
          </figure>
          <figure class="nb-slide" aria-hidden="true">
            <a href="./pages/novedades.html" aria-label="Ir a Novedades (móvil)">
              <img src="./fotos/Banner3.jpeg" alt="Banner 3 móvil" loading="lazy" />
            </a>
          </figure>

          <button class="nb-control prev" aria-label="Anterior" data-nb-prev="mobile">‹</button>
          <button class="nb-control next" aria-label="Siguiente" data-nb-next="mobile">›</button>
          <div class="nb-dots" data-nb-dots="mobile" role="tablist" aria-label="Paginación móvil"></div>
        </div>
      </div>
    </section>

    <!-- ============ Footer sencillo ============ -->
    <footer class="nb-footer" role="contentinfo" aria-label="Pie de página">
      <div class="nb-brand">
        <!-- pequeño logo (inline SVG) -->
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
          <rect width="24" height="24" rx="5" fill="#eaf7fb"/>
          <path d="M6 12h12M6 8h12M6 16h12" stroke="#085e75" stroke-width="1.2" stroke-linecap="round"/>
        </svg>
        <div>
          Sindicato del Gas
        </div>
      </div>

      <div class="nb-contact" aria-label="Contacto">
        <a href="tel:+541199999999" aria-label="Teléfono">
          <!-- icono teléfono -->
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.86 19.86 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6A19.86 19.86 0 0 1 2 4.18 2 2 0 0 1 4 2h3a2 2 0 0 1 2 1.72c.12 1.05.42 2.07.9 3.02a2 2 0 0 1-.45 2.11L8.91 11.09a16 16 0 0 0 6 6l1.24-1.24a2 2 0 0 1 2.11-.45c.95.48 1.97.78 3.02.9A2 2 0 0 1 22 16.92z" stroke="#eaf7fb" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          (+54 11) 9999-9999
        </a>

        <a href="mailto:contacto@sindicatodelgas.org" aria-label="Correo">
          <!-- icono mail -->
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 8.5l9 6 9-6" stroke="#eaf7fb" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><rect x="2" y="4" width="20" height="16" rx="2" stroke="#eaf7fb" stroke-width="1.2"/></svg>
          contacto@sindicatodelgas.org
        </a>

        <a href="https://instagram.com" target="_blank" rel="noopener" aria-label="Instagram">
          <!-- icono Instagram -->
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="3" y="3" width="18" height="18" rx="5" stroke="#eaf7fb" stroke-width="1.2"/><path d="M8 11.5a3.5 3.5 0 1 0 7 0 3.5 3.5 0 0 0-7 0z" stroke="#eaf7fb" stroke-width="1.2"/><path d="M17.5 6.5h.01" stroke="#eaf7fb" stroke-width="1.6" stroke-linecap="round"/></svg>
          Instagram
        </a>

        <a href="https://x.com" target="_blank" rel="noopener" aria-label="X (Twitter)">
          <!-- icono X / Twitter simplified -->
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53A4.48 4.48 0 0 0 12.5 8v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" stroke="#eaf7fb" stroke-width="1.1" stroke-linecap="round" stroke-linejoin="round"/></svg>
          X
        </a>
      </div>
    </footer>
  </div>

  <!-- ============ JS: slider init (aislado) ============ -->
  <script>
    (function () {
      // Inicializa un slider aislado en el container pasado.
      function initNbSlider(container, opts = {}) {
        const root = container;
        const slides = Array.from(root.querySelectorAll('.nb-slide'));
        const prev = root.querySelector('[data-nb-prev="' + (opts.key || '') + '"]') || root.querySelector('[data-nb-prev]');
        const next = root.querySelector('[data-nb-next="' + (opts.key || '') + '"]') || root.querySelector('[data-nb-next]');
        const dotsContainer = root.querySelector('[data-nb-dots="' + (opts.key || '') + '"]') || root.querySelector('.nb-dots');

        // Build dots
        slides.forEach((_, i) => {
          const b = document.createElement('button');
          b.className = 'nb-dot' + (i === 0 ? ' is-active' : '');
          b.type = 'button';
          b.setAttribute('aria-label', 'Ir a imagen ' + (i + 1));
          b.addEventListener('click', () => go(i, true));
          dotsContainer.appendChild(b);
        });
        const dots = Array.from(dotsContainer.children);

        let idx = 0;
        const AUTOPLAY = opts.autoplay || 5000;
        let timer = null;
        let isHover = false;

        function show(n) {
          slides.forEach((s, i) => {
            const active = i === n;
            s.classList.toggle('is-active', active);
            s.setAttribute('aria-hidden', !active);
            if (dots[i]) dots[i].classList.toggle('is-active', active);
          });
        }
        function go(n, user=false) {
          idx = (n + slides.length) % slides.length;
          show(idx);
          if (user) restart();
        }
        function nextFn(){ go(idx + 1); }
        function prevFn(){ go(idx - 1); }

        prev && prev.addEventListener('click', prevFn);
        next && next.addEventListener('click', nextFn);

        function start(){ stop(); timer = setInterval(() => { if(!isHover) nextFn(); }, AUTOPLAY); }
        function stop(){ if (timer) { clearInterval(timer); timer = null; } }
        function restart(){ start(); }

        // Pause on hover/touch
        root.addEventListener('mouseenter', () => { isHover = true; });
        root.addEventListener('mouseleave', () => { isHover = false; });
        root.addEventListener('touchstart', () => { isHover = true; }, {passive:true});
        root.addEventListener('touchend', () => { isHover = false; }, {passive:true});

        // swipe support
        (function addSwipe(){
          let startX = 0, endX = 0;
          root.addEventListener('touchstart', (e) => { startX = e.changedTouches[0].clientX; }, {passive:true});
          root.addEventListener('touchmove', (e) => { endX = e.changedTouches[0].clientX; }, {passive:true});
          root.addEventListener('touchend', () => {
            const diff = endX - startX;
            if (Math.abs(diff) > 40) {
              if (diff < 0) nextFn(); else prevFn();
            }
            startX = endX = 0;
          }, {passive:true});
        })();

        // keyboard navigation only when visible
        document.addEventListener('keydown', (e) => {
          const style = window.getComputedStyle(root);
          if (style.display === 'none') return;
          if (e.key === 'ArrowRight') nextFn();
          if (e.key === 'ArrowLeft') prevFn();
        });

        show(0);
        start();

        return { go, start, stop };
      }

      // Init desktop slider (if present)
      const desktopContainer = document.querySelector('.nb-slides-desktop');
      if (desktopContainer) initNbSlider(desktopContainer, { key: 'desktop', autoplay: 5000 });

      // Init mobile slider (if present)
      const mobileContainer = document.querySelector('.nb-slides-mobile');
      if (mobileContainer) initNbSlider(mobileContainer, { key: 'mobile', autoplay: 4500 });

      // Simple: if you want to adjust header height variable at runtime:
      // document.documentElement.style.setProperty('--nb-header-h', '66px');
    })();
  </script>
</body>
</html>
